(this.webpackJsonppeer_review=this.webpackJsonppeer_review||[]).push([[0],{126:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=126},127:function(e,t){},131:function(e,t){},176:function(e,t,a){},201:function(e,t){},202:function(e,t){},203:function(e,t){},204:function(e,t){},205:function(e,t){},206:function(e,t){},207:function(e,t,a){},232:function(e,t){},233:function(e,t){},234:function(e,t){},235:function(e,t){},236:function(e,t){},237:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),s=a.n(r),i=(a(176),a(17)),o=a(13),l=a(288),j=a(282),d=a(286),u=a(284),b=a(289),m=a(287),h=a(73),p=a(86),O=a.n(p),x=a.p+"static/media/field_option.2a5e0705.png",g=a.p+"static/media/review_priority.aa91dd11.png",f=a.p+"static/media/private_share.4c22dca5.png",v=a.p+"static/media/feedback.55c52345.png",w=a.p+"static/media/recommend.35119f8a.png",y=a.p+"static/media/review.edaf35d5.png",S=a.p+"static/media/score.7fbecd27.png",N=a(1),C=Object(j.a)((function(e){return{signup:{margin:e.spacing(3,0,2)},icon:{marginRight:e.spacing(2)},signin:{margin:e.spacing(3,0,2)},appName:{flexGrow:1},signButton:{margin:e.spacing(1,0,1,2)},page:{height:"100vh",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},body:{color:"black",fontSize:"20pt",margin:e.spacing(9)},gridItem:{textAlign:"center"},title:{textAlign:"center",fontSize:"24pt",marginTop:e.spacing(10),color:"#000063"},subTitle:{textAlign:"center",fontSize:"15pt",marginTop:e.spacing(-8),color:"gray"},featureTitle:{marginLeft:"10px",textAlign:"center",fontSize:"16pt",color:"#424242"},featureText:{marginLeft:"10px",textAlign:"center",fontSize:"12pt",color:"#3f51b5",marginTop:e.spacing(3)},img:{height:"150px",width:"150px"},GridContainer2:{textAlign:"center"},GridContainer1:{marginTop:e.spacing(-15)}}}));var I=function(){var e=C();return Object(N.jsx)(c.a.Fragment,{children:Object(N.jsxs)("div",{className:e.page,children:[Object(N.jsx)(u.a,{}),Object(N.jsx)(d.a,{position:"relative",children:Object(N.jsxs)(m.a,{children:[Object(N.jsx)(O.a,{className:e.icon}),Object(N.jsx)(h.a,{className:e.appName,variant:"h6",color:"inherit",noWrap:!0,children:"PReviewing"}),Object(N.jsx)(l.a,{className:e.signButton,component:i.b,to:"/signin",variant:"contained",color:"secondary",children:"Sign In"}),Object(N.jsx)(l.a,{className:e.signButton,component:i.b,to:"/signup",variant:"contained",color:"secondary",children:"Sign Up"})]})}),Object(N.jsxs)("div",{className:e.body,children:[Object(N.jsxs)(b.a,{container:!0,spacing:10,className:e.GridContainer1,children:[Object(N.jsx)(b.a,{item:!0,xs:12,className:e.title,children:"Have you ever suffered from not knowing how good your document is?"}),Object(N.jsxs)(b.a,{item:!0,xs:3,className:e.gridItem,children:[Object(N.jsx)("img",{className:e.img,src:x}),Object(N.jsx)("div",{className:e.featureTitle,children:"Fields option"}),Object(N.jsx)("div",{className:e.featureText,children:"Set fileds of document to help others know what kind of fileds the document belongs to and make the document easy to search."})]}),Object(N.jsxs)(b.a,{item:!0,xs:3,className:e.gridItem,children:[Object(N.jsx)("img",{className:e.img,src:g}),Object(N.jsx)("div",{className:e.featureTitle,children:"Review priority"}),Object(N.jsx)("div",{className:e.featureText,children:"If you want someone in particular major or degree to review your document, set preferred major and degree to push your document to their dashboard."})]}),Object(N.jsxs)(b.a,{item:!0,xs:3,className:e.gridItem,children:[Object(N.jsx)("img",{className:e.img,src:f}),Object(N.jsx)("div",{className:e.featureTitle,children:"Private document share"}),Object(N.jsx)("div",{className:e.featureText,children:"If you want to share your document with specific reviewers, you can set it as private and invite them via email."})]}),Object(N.jsxs)(b.a,{item:!0,xs:3,className:e.gridItem,children:[Object(N.jsx)("img",{className:e.img,src:v}),Object(N.jsx)("div",{className:e.featureTitle,children:"Feedback"}),Object(N.jsx)("div",{className:e.featureText,children:"Be tired of reading hundreds of comments? You will get a feedback report showing other\u2019s opinions on your document."})]})]}),Object(N.jsxs)(b.a,{container:!0,spacing:10,className:e.GridContainer2,children:[Object(N.jsx)(b.a,{item:!0,xs:12,className:e.title,children:"Do you want to help others out and get yourself inspired?"}),Object(N.jsx)(b.a,{item:!0,xs:1,children:" "}),Object(N.jsxs)(b.a,{item:!0,xs:3,className:e.gridItem,children:[Object(N.jsx)("img",{className:e.img,src:w}),Object(N.jsx)("div",{className:e.featureTitle,children:"Recommend"}),Object(N.jsx)("div",{className:e.featureText,children:"According to your background, system can recommend you the optimise documents."})]}),Object(N.jsxs)(b.a,{item:!0,xs:3,className:e.gridItem,children:[Object(N.jsx)("img",{className:e.img,src:y}),Object(N.jsx)("div",{className:e.featureTitle,children:"Review document"}),Object(N.jsx)("div",{className:e.featureText,children:"You can give any suggestion toward document and give a score to the document to show how you are satisfied by the content in it."})]}),Object(N.jsxs)(b.a,{item:!0,xs:3,className:e.gridItem,children:[Object(N.jsx)("img",{className:e.img,src:S}),Object(N.jsx)("div",{className:e.featureTitle,children:"Score comments"}),Object(N.jsx)("div",{className:e.featureText,children:"You can mark both the document and other reviewers in your mind"})]}),Object(N.jsx)(b.a,{item:!0,xs:1,children:" "})]})]})]})})},k=a(6),_=a(309),T=a(291),P=a(292),D=a(306),B=a(294),F=a(88),R=a.n(F),U=a(290),A=c.a.createContext(null),E=function(e){var t=e.children,a=c.a.useState(""),r=Object(k.a)(a,2),s=r[0],i=r[1],o=Object(n.useState)(1),l=Object(k.a)(o,2),j=l[0],d=l[1],u=Object(n.useState)(1),b=Object(k.a)(u,2),m=b[0],h=b[1],p=Object(n.useState)(),O=Object(k.a)(p,2),x=O[0],g=O[1],f=Object(n.useState)([]),v=Object(k.a)(f,2),w=v[0],y=v[1],S=Object(n.useState)([]),C=Object(k.a)(S,2),I=C[0],_=C[1],T=Object(n.useState)(),P=Object(k.a)(T,2),D=P[0],B=P[1],F=Object(n.useState)([{title:"a long long long long long long long long long long long title",author:"author",summary:"summary",rate:4},{title:"title",author:"author",summary:"summary",rate:3},{title:"title",author:"author",summary:"summary",rate:2},{title:"title",author:"author",summary:"summary",rate:1},{title:"title",author:"author",summary:"summary",rate:5}]),R=Object(k.a)(F,2),U={local:"http://localhost:3000",url:"http://localhost:5000",token:[s,i],cards:[R[0],R[1]],DbPage:[j,d],MpPage:[m,h],UserId:[x,g],DbCards:[w,y],MpCards:[I,_],UserName:[D,B],fields:["Agriculture","Animal Sciences","Food Sciences & Technology","Architecture","Women\u2019s Studies","Art","Accounting","Finance","Public Relations","Computer Science","Civil Engineering","Mechanical Engineering"]};return Object(N.jsx)(A.Provider,{value:U,children:t})},W=Object(j.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function M(){var e=W(),t=Object(n.useState)(""),c=Object(k.a)(t,2),r=c[0],s=c[1],i=Object(n.useState)(""),j=Object(k.a)(i,2),d=j[0],m=j[1],p=Object(n.useContext)(A),O=Object(k.a)(p.UserId,2),x=(O[0],O[1]),g=Object(k.a)(p.UserName,2),f=(g[0],g[1]),v=Object(o.g)(),w=a(32),y=window.localStorage;return Object(N.jsxs)(U.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(u.a,{}),Object(N.jsxs)("div",{className:e.paper,children:[Object(N.jsx)(_.a,{className:e.avatar,children:Object(N.jsx)(R.a,{})}),Object(N.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(N.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(N.jsx)(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return s(e.target.value)}}),Object(N.jsx)(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return m(e.target.value)}}),Object(N.jsx)(P.a,{control:Object(N.jsx)(D.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(N.jsx)(l.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){w.post("http://localhost:5000/auth/login",{email:r,password:d}).then((function(e){console.log(e.request.response);var t=JSON.parse(e.request.response);x(t.user_id),f(t.user_name),y.setItem("UserId",t.user_id),y.setItem("UserName",t.user_name),y.getItem("porjectID")?v.push("/projectreview?projectId=".concat(y.getItem("porjectID"))):v.push("/Dashboard")})).catch((function(e){var t=JSON.parse(e.request.response);console.log(t.message),alert(t.message)}))},children:"Sign In"}),Object(N.jsxs)(b.a,{container:!0,children:[Object(N.jsx)(b.a,{item:!0,xs:!0,children:Object(N.jsx)(B.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(N.jsx)(b.a,{item:!0,children:Object(N.jsx)(B.a,{href:"signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]})}var G=a(244),L=a(310),z=a(241),q=a(245),J=Object(j.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},formControl:{width:"100%"}}}));function V(){var e=J(),t=Object(n.useContext)(A),c=Object(k.a)(t.UserId,2),r=(c[0],c[1]),s=Object(k.a)(t.UserName,2),i=(s[0],s[1]),j=t.fields,d=Object(n.useState)(""),m=Object(k.a)(d,2),p=m[0],O=m[1],x=Object(n.useState)(""),g=Object(k.a)(x,2),f=g[0],v=g[1],w=Object(n.useState)(""),y=Object(k.a)(w,2),S=y[0],C=y[1],I=Object(n.useState)(""),P=Object(k.a)(I,2),D=P[0],F=P[1],E=Object(n.useState)(""),W=Object(k.a)(E,2),M=W[0],V=W[1],H=Object(n.useState)(""),Y=Object(k.a)(H,2),K=Y[0],Q=Y[1],X=window.localStorage,Z=Object(o.g)(),$=a(32);return Object(N.jsxs)(U.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(u.a,{}),Object(N.jsxs)("div",{className:e.paper,children:[Object(N.jsx)(_.a,{className:e.avatar,children:Object(N.jsx)(R.a,{})}),Object(N.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(N.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(N.jsxs)(b.a,{container:!0,spacing:2,children:[Object(N.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(N.jsx)(T.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){return V(e.target.value)}})}),Object(N.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(N.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){return Q(e.target.value)}})}),Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return C(e.target.value)}})}),Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return F(e.target.value)}})}),Object(N.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(N.jsxs)(z.a,{variant:"outlined",className:e.formControl,children:[Object(N.jsx)(q.a,{children:"Major"}),Object(N.jsxs)(G.a,{onChange:function(e){return v(e.target.value)},label:"Major",children:[Object(N.jsx)(L.a,{value:"",children:Object(N.jsx)("em",{children:"None"})}),j.map((function(e,t){return Object(N.jsx)(L.a,{value:e,children:e})}))]})]})}),Object(N.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(N.jsxs)(z.a,{variant:"outlined",className:e.formControl,children:[Object(N.jsx)(q.a,{children:"Degree"}),Object(N.jsxs)(G.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){return O(e.target.value)},label:"Degree",children:[Object(N.jsx)(L.a,{value:"",children:Object(N.jsx)("em",{children:"None"})}),["Bachelor","Master","PhD"].map((function(e,t){return Object(N.jsx)(L.a,{value:e,children:e})}))]})]})})]}),Object(N.jsx)(l.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){$.post("http://localhost:5000/auth/signup",{email:S,name:M+" "+K,password:D,major:f,degree:p}).then((function(e){console.log(e.request.response);var t=JSON.parse(e.request.response);r(t.user_id),i(t.user_name),X.setItem("UserId",t.user_id),X.setItem("UserName",t.user_name),X.getItem("porjectID")?Z.push("/projectreview?projectId=".concat(X.getItem("porjectID"))):Z.push("/Dashboard")})).catch((function(e){var t=JSON.parse(e.request.response);console.log(t.message),alert(t.message)}))},children:"Sign Up"}),Object(N.jsx)(b.a,{container:!0,justify:"flex-end",children:Object(N.jsx)(b.a,{item:!0,children:Object(N.jsx)(B.a,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})}var H=a(151),Y=a(295),K=a(297),Q=a(296),X=a(311),Z=(a(200),a(135)),$=a.n(Z),ee=a(102),te=a.n(ee),ae=a(32),ne=a.n(ae),ce=function(e){var t=e.status;return Object(N.jsxs)("div",{style:{display:"inline"},children:[Object(N.jsx)(h.a,{style:"done"===t?{display:"inline"}:{display:"none"},variant:"body1",children:"\u2705 Done!"}),Object(N.jsx)(h.a,{style:"error"===t?{display:"inline"}:{display:"none"},variant:"body1",children:"\u274c Something wrong...Retry"})]})},re=Object(j.a)({emailtext:{width:"80vw",maxWidth:"580px"}}),se=function(e){var t=re(),a=e.project_id,n=c.a.useState(""),r=Object(k.a)(n,2),s=r[0],i=r[1],o=c.a.useState(""),j=Object(k.a)(o,2),d=j[0],u=j[1],m=c.a.useContext(A);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(h.a,{variant:"h6",children:["This project is set up as ",Object(N.jsx)("b",{children:"Private"}),". Let's invite reviewers here\ud83d\udc47"]}),Object(N.jsx)("br",{}),Object(N.jsx)(T.a,{className:t.emailtext,label:"Reviewers' email addresses (Please separate with commas)",variant:"outlined",fullWidth:!0,multiline:"true",rows:"4",helperText:"Invited reviewers will recieve an email with project ID and password",onChange:function(e){i(e.target.value)}}),Object(N.jsx)("br",{}),Object(N.jsxs)(b.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(N.jsx)(l.a,{id:"sendButton",onClick:function(){var e={email:s,project_id:a};ne.a.post("".concat(m.url,"/proj/project/invite"),e,{headers:{"Content-Type":"application/json"}}).then((function(e){if(console.log(e),200!==e.status)throw Error("Bad response.");u("done")})).catch((function(e){console.log(e),u("error")}))},color:"secondary",children:"Send Invite email"}),Object(N.jsx)(ce,{status:d})]}),Object(N.jsx)("br",{})]})},ie=a(304),oe=Object(j.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},TitleAuthorGrid:{flexGrow:1},spacingDiv:{flexGrow:1}});function le(e){var t=oe(),r=Object(n.useState)(2),s=Object(k.a)(r,2),o=s[0],j=s[1],d=Object(n.useState)(0),u=Object(k.a)(d,2),m=u[0],p=u[1],O=c.a.useState(null),x=Object(k.a)(O,2),g=x[0],f=x[1],v=Boolean(g),w=v?"simple-popover":void 0,y=a(32);return m?null:Object(N.jsxs)(Y.a,{className:t.root,variant:"elevation",elevation:o,onMouseEnter:function(){return j(6)},onMouseLeave:function(){return j(3)},children:[Object(N.jsxs)(Q.a,{children:[Object(N.jsxs)(b.a,{container:!0,spacing:3,direction:"row",children:[Object(N.jsxs)(b.a,{item:!0,xs:7,md:9,lg:10,children:[Object(N.jsx)(h.a,{variant:"h5",component:"h2",children:e.title}),Object(N.jsx)(h.a,{className:t.pos,color:"textSecondary",children:e.author})]}),Object(N.jsx)("div",{className:t.spacingDiv}),Object(N.jsx)(b.a,{item:!0,children:Object(N.jsx)(h.a,{className:t.rating,color:"textSecondary",gutterBottom:!0,children:Object(N.jsx)(X.a,{name:"read-only",value:e.rate,readOnly:!0,precision:.1})})})]}),Object(N.jsx)(h.a,{variant:"body2",component:"p",children:e.summary})]}),Object(N.jsxs)(K.a,{children:[Object(N.jsx)(l.a,{className:t.more,size:"small",component:i.b,to:"/projectreview?projectId=".concat(e.projectId),children:"View More"}),Object(N.jsx)("div",{className:t.spacingDiv}),e.delButton&&!e.public&&Object(N.jsx)(l.a,{name:"del",onClick:function(e){f(e.currentTarget)},children:Object(N.jsx)(te.a,{})}),e.delButton&&!e.public&&Object(N.jsx)(ie.a,{id:w,open:v,anchorEl:g,onClose:function(){f(null)},anchorReference:"anchorPosition",anchorPosition:{top:250,left:450},children:Object(N.jsx)(se,{project_id:e.projectId})}),e.delButton&&Object(N.jsx)(l.a,{name:"del",onClick:function(){y.delete("http://127.0.0.1:5000/proj/project/management",{data:{project_id:e.projectId}}).then((function(e){console.log(e),alert("Project Deleted"),p(1)})).catch((function(e){console.log(e)}))},children:Object(N.jsx)($.a,{})})]})]})}var je=a(63),de=a(7),ue=a(152),be=a(298),me=a(299),he=a(139),pe=a.n(he),Oe=a(140),xe=a.n(Oe),ge=a(137),fe=a.n(ge),ve=a(138),we=a.n(ve),ye=a(136),Se=a.n(ye),Ne=Object(de.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(N.jsx)(ue.a,Object(je.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},e))})),Ce=Object(de.a)((function(e){return{root:{"&:hover":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(L.a),Ie=Object(j.a)((function(e){return{frame:{display:"flex"},avt:{width:e.spacing(4),height:e.spacing(4),"margin-right":e.spacing(1),backgroundColor:"#f50057",textDecoration:"None"}}}));function ke(){var e=Ie(),t=c.a.useState(null),a=Object(k.a)(t,2),r=a[0],s=a[1],o=window.localStorage,j=(Object(n.useContext)(A),o.getItem("UserName")),d=function(){s(null)},u=j?1===j.split(" ").length?j[0]:j.split(" ")[0][0]+j.split(" ")[1][0]:"";return Object(N.jsxs)("div",{className:e.frame,children:[Object(N.jsx)(_.a,{className:e.avt,component:i.b,to:"/profile/".concat(o.getItem("UserId")),children:u}),Object(N.jsx)(l.a,{"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"secondary",onClick:function(e){s(e.currentTarget)},children:Object(N.jsx)(Se.a,{})}),Object(N.jsxs)(Ne,{id:"customized-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:d,children:[Object(N.jsxs)(Ce,{component:i.b,to:"/dashboard",onClick:d,children:[Object(N.jsx)(be.a,{children:Object(N.jsx)(fe.a,{fontSize:"small"})}),Object(N.jsx)(me.a,{primary:"Dashboard"})]}),Object(N.jsxs)(Ce,{component:i.b,to:"/myproject",onClick:d,children:[Object(N.jsx)(be.a,{children:Object(N.jsx)(we.a,{fontSize:"small"})}),Object(N.jsx)(me.a,{primary:"My Documents"})]}),Object(N.jsxs)(Ce,{component:i.b,to:"/profile/".concat(o.getItem("UserId")),onClick:d,children:[Object(N.jsx)(be.a,{children:Object(N.jsx)(pe.a,{fontSize:"small"})}),Object(N.jsx)(me.a,{primary:"My Profile"})]}),Object(N.jsxs)(Ce,{onClick:function(){window.localStorage.removeItem("UserName"),window.localStorage.removeItem("UserId")},component:i.b,to:"/",children:[Object(N.jsx)(be.a,{children:Object(N.jsx)(xe.a,{fontSize:"small"})}),Object(N.jsx)(me.a,{primary:"logout"})]})]})]})}var _e=Object(j.a)((function(e){return{icon:{marginRight:e.spacing(2)},appbarTitle:{flexGrow:1}}}));function Te(){var e=_e();return Object(N.jsx)(d.a,{position:"relative",children:Object(N.jsxs)(m.a,{children:[Object(N.jsx)(O.a,{className:e.icon}),Object(N.jsx)(h.a,{className:e.appbarTitle,variant:"h6",color:"inherit",noWrap:!0,children:"PReviewing"}),Object(N.jsx)("nav",{children:Object(N.jsx)(ke,{})})]})})}var Pe=a(312),De=a(307);function Be(e){var t=Object(n.useContext)(A),a=Object(k.a)(t.DbPage,2),c=(a[0],a[1]),r=Object(k.a)(t.MpPage,2),s=(r[0],r[1]);return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(o.b,{children:function(t){var a=t.location,n=new URLSearchParams(a.search),r=parseInt(n.get("page")||"1",10);return"/Dashboard"===e.route&&c(r),"/myproject"===e.route&&s(r),Object(N.jsx)(Pe.a,{page:r,count:e.maxpage,variant:"outlined",shape:"rounded",renderItem:function(t){return Object(N.jsx)(De.a,Object(je.a)({component:i.b,to:"".concat(e.route).concat(1===t.page?"":"?page=".concat(t.page))},t))}})}})})}var Fe=a(242),Re=Object(j.a)((function(e){return{root:{},icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},title:{flexGrow:1},searchButtonGrid:{display:"flex","align-items":"center"},searchButton:{width:"100%"},content:{flexGrow:1,overflow:"auto"},container:{paddingTop:e.spacing(2)},searchResults:{margin:e.spacing(4)},formControl:{width:"140px"}}}));function Ue(e){var t=Object(o.h)(),c=Re(),r=Object(n.useContext)(A),s=Object(k.a)(r.cards,2),i=(s[0],s[1],Object(k.a)(r.DbPage,2)),j=i[0],d=(i[1],window.localStorage.getItem("UserId")),m=r.fields,p=Object(n.useState)(""),O=Object(k.a)(p,2),x=O[0],g=O[1],f=Object(n.useState)(""),v=Object(k.a)(f,2),w=v[0],y=v[1],S=Object(n.useState)([]),C=Object(k.a)(S,2),I=C[0],_=C[1],P=new URLSearchParams(t.search),D=parseInt(P.get("page")||"1",10),B=Object(n.useState)("Recommand documents for you: "),F=Object(k.a)(B,2),R=F[0],E=F[1],W=Object(o.g)(),M=Object(n.useState)(0),J=Object(k.a)(M,2),V=(J[0],J[1],0);window.localStorage.projectID&&(console.log("---"),V=window.localStorage.projectId,window.localStorage.removeItem("projectID"),W.push("/projectreview?projectId=".concat(V))),Object(n.useEffect)((function(){console.log("Current page: Dashboard",j)}),[j]),Object(n.useEffect)((function(){window.scrollTo(0,0)}));var Y=a(32),K="http://127.0.0.1:5000/proj/project/recommand_user/"+d;Object(n.useEffect)((function(){Y.get(K).then((function(e){return console.log(e.data),e.data})).then((function(e){return console.log(e.result),e.result})).then((function(e){console.log(e),e.length>0?_(e):E("Not yet document recommand for you, try complete your profile :)"),console.log(e)})).then((function(){console.log("success")}))}),[]);return Object(N.jsxs)("div",{className:c.root,children:[Object(N.jsx)(u.a,{}),Object(N.jsx)(Te,{}),Object(N.jsx)("main",{className:c.content,children:Object(N.jsx)("div",{className:c.heroContent,children:Object(N.jsxs)(U.a,{className:c.container,maxWidth:"lg",children:[Object(N.jsx)(h.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"Welcome to PReviewing!"}),Object(N.jsx)(h.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"Search for the documents you interested in"}),Object(N.jsxs)("div",{className:c.heroButtons,children:[Object(N.jsx)("div",{className:"Search",style:{paddingBottom:80},children:Object(N.jsxs)(b.a,{container:!0,spacing:2,justify:"center",children:[Object(N.jsx)(b.a,{item:!0,xs:7,children:Object(N.jsx)(T.a,{className:c.searchArea,label:"Search here",variant:"outlined",fullWidth:"True",onChange:function(e){g(e.target.value)}})}),Object(N.jsx)(b.a,{item:!0,xs:2,children:Object(N.jsxs)(z.a,{className:c.formControl,children:[Object(N.jsx)(q.a,{id:"demo-simple-select-helper-label",children:"Field"}),Object(N.jsxs)(G.a,{labelId:"SearchFieldLabel",id:"SearchFieldId",onChange:function(e){y(e.target.value),console.log(e.target.value)},children:[Object(N.jsx)(L.a,{value:"",children:Object(N.jsx)("em",{children:"None"})}),m.map((function(e,t){return Object(N.jsx)(L.a,{value:e,children:e})}))]}),Object(N.jsx)(Fe.a,{children:"Choose the field to search"})]})}),Object(N.jsx)(b.a,{item:!0,className:c.searchButtonGrid,xs:1.5,children:Object(N.jsx)(l.a,{className:c.searchButton,variant:"contained",color:"primary",onClick:function(e){Y.post("http://127.0.0.1:5000/proj/project/search",{keyword:x,field:w}).then((function(e){return e.data.result})).then((function(e){console.log("search result is: "),console.log(e),_(e),E("".concat(e.length?e.length:"No"," document").concat(e.length>1?"s":""," found").concat(e.length?":":""," "))}))},children:"Search"})})]})}),Object(N.jsxs)(b.a,{container:!0,spacing:2,justify:"center",children:[Object(N.jsx)(b.a,{item:!0,sx:2,children:Object(N.jsx)("div",{})}),Object(N.jsx)(b.a,{item:!0,xs:8,children:Object(N.jsx)(h.a,{variant:"h5",align:"left",color:"textSecondary",paragraph:!0,children:R})}),Object(N.jsx)(b.a,{item:!0,xs:2,children:Object(N.jsxs)(z.a,{className:c.formControl,children:[Object(N.jsx)(q.a,{id:"demo-simple-select-label",children:"Order by"}),Object(N.jsxs)(G.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:function(e){console.log(e);var t=Object(H.a)(I);0==e.target.value&&t.sort((function(e,t){return e.average_score-t.average_score})),1==e.target.value&&t.sort((function(e,t){return t.average_score-e.average_score})),_(t)},children:[Object(N.jsx)(L.a,{value:1,children:"Highest rated"}),Object(N.jsx)(L.a,{value:0,children:"Lowest rated"})]})]})})]}),Object(N.jsxs)(b.a,{container:!0,spacing:3,justify:"center",children:[I.slice(5*(D-1),5*D).map((function(e,t){return Object(N.jsx)(b.a,{item:!0,className:"searchResults",xs:10,children:Object(N.jsx)(le,{title:e.title,author:e.user_name,summary:e.summary,rate:e.average_score,delButton:!1,projectId:e.project_id})})})),Object(N.jsx)(b.a,{item:!0,xs:12}),I.length>0&&Object(N.jsx)(b.a,{item:!0,children:Object(N.jsx)(Be,{maxpage:parseInt((I.length-1)/5)+1,route:"/Dashboard"})})]})]})]})})})]})}var Ae=Object(j.a)((function(e){return{root:{},icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},title:{flexGrow:1},content:{flexGrow:1,overflow:"auto"},container:{paddingTop:e.spacing(2)},searchResults:{margin:e.spacing(4)}}}));function Ee(){var e=Object(o.h)(),t=Ae(),c=Object(n.useContext)(A),r=Object(k.a)(c.cards,2),s=(r[0],r[1],Object(k.a)(c.MpPage,2)),j=s[0],d=(s[1],window.localStorage.getItem("UserId")),m=Object(n.useState)([]),p=Object(k.a)(m,2),O=p[0],x=p[1],g=new URLSearchParams(e.search),f=parseInt(g.get("page")||"1",10),v=Object(n.useState)(-1),w=Object(k.a)(v,2),y=(w[0],w[1],Object(n.useState)(0)),S=Object(k.a)(y,2),C=S[0],I=(S[1],Object(n.useState)("Manage my documents: ")),_=Object(k.a)(I,2),T=_[0],P=_[1];Object(n.useEffect)((function(){console.log("Current page: MyProject",j)}),[j]),Object(n.useEffect)((function(){window.scrollTo(0,0)}));var D=a(32),B="http://127.0.0.1:5000/proj/project/myProject/"+d;return Object(n.useEffect)((function(){D.get(B).then((function(e){return console.log(e.data),e.data})).then((function(e){return console.log(e.result),e.result})).then((function(e){console.log(e),e.length>0?x(e):P("No ducument yet. Click the button above to share your idea :)")})).then((function(){console.log(O),console.log("success")}))}),[]),Object(N.jsxs)("div",{className:t.root,children:[Object(N.jsx)(u.a,{}),Object(N.jsx)(Te,{}),Object(N.jsxs)("main",{className:t.content,children:[Object(N.jsx)("div",{className:t.appBarSpacer}),Object(N.jsx)("div",{className:t.heroContent,children:Object(N.jsxs)(U.a,{className:t.container,maxWidth:"lg",children:[Object(N.jsx)(h.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"My Documents"}),Object(N.jsx)(h.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"Manage My Documents Here :)"}),Object(N.jsxs)("div",{className:t.heroButtons,children:[Object(N.jsx)("div",{style:{paddingBottom:80,textAlign:"center"},children:Object(N.jsx)(l.a,{m:"auto",variant:"contained",color:"secondary",component:i.b,to:"/projectupload",children:"Add New Document"})}),Object(N.jsxs)(b.a,{container:!0,spacing:2,justify:"center",children:[Object(N.jsx)(b.a,{item:!0,sx:2,children:Object(N.jsx)("div",{})}),Object(N.jsx)(b.a,{item:!0,xs:10,children:Object(N.jsx)(h.a,{variant:"h5",align:"left",color:"textSecondary",paragraph:!0,children:T})})]}),Object(N.jsxs)(b.a,{container:!0,spacing:3,justify:"center",children:[O.slice(5*(f-1),5*f).map((function(e,t){return Object(N.jsx)(b.a,{item:!0,className:"searchResults",xs:10,children:Object(N.jsx)(le,{title:e.title,author:e.user_name,summary:e.summary,rate:e.average_score,projectId:e.project_id,delButton:!0,public:e.public,update:C})})})),Object(N.jsx)(b.a,{item:!0,xs:12}),O.length>0&&Object(N.jsx)(b.a,{item:!0,children:Object(N.jsx)(Be,{maxpage:parseInt(O.length/5-1)+1,route:"/myproject"})})]})]})]})})]})]})}var We=a(141),Me=function(e){var t=e.project_id,a=c.a.useState(""),n=Object(k.a)(a,2),r=n[0],s=n[1];return Object(N.jsxs)("div",{children:[Object(N.jsx)(h.a,{variant:"body1",display:"inline",children:"Upload File(pdf): "}),Object(N.jsx)("input",{id:"fileInput",type:"file",accept:"application/pdf",onChange:function(e){return function(e){s("loading");var a=new FormData;a.append("file",e),console.log(a);var n,c=Object(We.a)(a.values());try{for(c.s();!(n=c.n()).done;){var r=n.value;console.log(r)}}catch(i){c.e(i)}finally{c.f()}ne.a.post("http://localhost:5000/proj/project/file/"+t,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){if(console.log(e),201!==e.status)throw Error("Bad response.");s("done")})).catch((function(e){console.log(e),s("error")}))}(e.target.files[0])},style:{display:"none"}}),Object(N.jsx)("label",{htmlFor:"fileInput",children:Object(N.jsx)(l.a,{color:"secondary",component:"div",children:"Select file"})}),Object(N.jsx)(ce,{status:r})]})},Ge=Object(j.a)({smallText:{width:"240px"}}),Le=function(e){var t=Ge(),a=["Private","Public"],n=e.public,c=e.setPublic,r=e.setPreferedDegree,s=e.setPreferedMajor;e.setPassword;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(b.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(N.jsx)(T.a,{className:t.smallText,select:!0,label:"Access",value:a[n],onChange:function(e){"Public"===e.target.value?c(1):c(0)},variant:"outlined",children:a.map((function(e){return Object(N.jsx)(L.a,{value:e,children:e},e)}))}),1===n&&Object(N.jsx)(h.a,{variant:"body2",children:"This document will be recommanded to all reviewers with preferred major and degree."}),0===n&&Object(N.jsx)(h.a,{variant:"body2"})]}),Object(N.jsx)("br",{}),1===n&&Object(N.jsxs)(b.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(N.jsx)(T.a,{className:t.smallText,select:!0,label:"Preferred Reviewer Degree",onChange:function(e){r(e.target.value)},variant:"outlined",children:["none","Bachelor","Master","PhD"].map((function(e){return Object(N.jsx)(L.a,{value:e,children:e},e)}))}),Object(N.jsx)(T.a,{className:t.smallText,select:!0,label:"Preferred Reviewer Major",onChange:function(e){s(e.target.value)},variant:"outlined",children:["none","Agriculture","Animal Sciences","Food Sciences & Technology","Architecture","Women\u2019s Studies","Art","Accounting","Finance","Public Relations","Computer Science","Civil Engineering","Mechanical Engineering"].map((function(e){return Object(N.jsx)(L.a,{value:e,children:e},e)}))})]})]})},ze=function(e){var t=c.a.useState(!1),a=Object(k.a)(t,2),n=a[0],r=a[1];return Object(N.jsxs)(N.Fragment,{children:[n&&Object(N.jsx)(o.a,{to:"".concat(e.to)}),!n&&Object(N.jsx)(l.a,{variant:e.variant,onClick:function(){r(!0)},children:e.children})]})},qe=Object(j.a)({frame:{width:"80vw",maxWidth:"800px"},smallText:{width:"240px"}}),Je=function(){var e=qe(),t=c.a.useContext(A),a=localStorage.getItem("UserId"),r=localStorage.getItem("UserName"),s=t.fields,i=Object(n.useState)(1),o=Object(k.a)(i,2),j=o[0],d=o[1],u=Object(n.useState)(""),m=Object(k.a)(u,2),p=m[0],O=m[1],x=Object(n.useState)(""),g=Object(k.a)(x,2),f=g[0],v=g[1],w=Object(n.useState)(""),y=Object(k.a)(w,2),S=y[0],C=y[1],I=Object(n.useState)(""),_=Object(k.a)(I,2),P=_[0],D=_[1],B=Object(n.useState)(""),F=Object(k.a)(B,2),R=F[0],U=F[1],E=Object(n.useState)(""),W=Object(k.a)(E,2),M=W[0],G=W[1],z=Object(n.useState)(""),q=Object(k.a)(z,2),J=q[0],V=q[1],H=Object(n.useState)(""),Y=Object(k.a)(H,2),K=Y[0],Q=Y[1],X=Object(n.useState)(-1),Z=Object(k.a)(X,2),$=Z[0],ee=Z[1];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Te,{}),Object(N.jsxs)(b.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[-1===$&&Object(N.jsxs)(b.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:e.frame,children:[Object(N.jsx)("br",{}),Object(N.jsx)(h.a,{variant:"h4",children:"Create New Document"}),Object(N.jsx)("br",{}),Object(N.jsx)(T.a,{label:"Document Title",variant:"outlined",fullWidth:!0,onChange:function(e){O(e.target.value)}}),Object(N.jsx)("br",{}),Object(N.jsx)(T.a,{label:"Document Summary",variant:"outlined",fullWidth:!0,multiline:"true",rows:"8",helperText:"Please provide a summary for your document (under 1000 words).",onChange:function(e){v(e.target.value)}}),Object(N.jsx)("br",{}),Object(N.jsxs)(b.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(N.jsxs)(T.a,{className:e.smallText,select:!0,label:"Related Field 1",onChange:function(e){C(e.target.value)},helperText:"Please select related Field 1",variant:"outlined",children:[Object(N.jsx)(L.a,{value:"",children:Object(N.jsx)("em",{children:"None"})}),s.map((function(e){return Object(N.jsx)(L.a,{value:e,children:e},e)}))]}),Object(N.jsxs)(T.a,{className:e.smallText,select:!0,label:"Related Field 2",onChange:function(e){D(e.target.value)},helperText:"Please select related Field 2",variant:"outlined",children:[Object(N.jsx)(L.a,{value:"",children:Object(N.jsx)("em",{children:"None"})}),s.map((function(e){return Object(N.jsx)(L.a,{value:e,children:e},e)}))]}),Object(N.jsxs)(T.a,{className:e.smallText,select:!0,label:"Related Field 3",onChange:function(e){U(e.target.value)},helperText:"Please select related Field 3",variant:"outlined",children:[Object(N.jsx)(L.a,{value:"",children:Object(N.jsx)("em",{children:"None"})}),s.map((function(e){return Object(N.jsx)(L.a,{value:e,children:e},e)}))]})]}),Object(N.jsx)("br",{}),Object(N.jsx)(Le,{public:j,setPublic:d,setPreferedDegree:G,setPreferedMajor:V,setPassword:Q}),Object(N.jsx)("br",{}),Object(N.jsxs)(b.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(N.jsx)(ze,{variant:"contained",to:"/myproject",children:"CANCEL"}),Object(N.jsx)(l.a,{variant:"contained",color:"primary",onClick:function(){var e=S+","+P+","+R,n=Date().toString(),c={user_id:a,user_name:r,title:p,field:e,summary:f,time:n,public:j,prefered_major:J,prefered_degree:M,password:K};ne.a.post("".concat(t.url,"/proj/project/management"),c,{headers:{accept:"application/json","Content-Type":"application/json"}}).then((function(e){if(console.log(e),200!==e.status)throw Error("Bad response.");ee(e.data.project_id)})).catch((function(e){console.log(e)}))},style:{marginLeft:"18px"},children:"Create Document"})]})]}),-1!==$&&Object(N.jsxs)(b.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:e.frame,children:[Object(N.jsx)("br",{}),Object(N.jsx)(h.a,{variant:"h4",children:"Document has been created."}),Object(N.jsx)("br",{}),Object(N.jsx)(h.a,{variant:"h6",children:"Let's upload file here\ud83d\udc47"}),Object(N.jsx)("br",{}),Object(N.jsx)(Me,{project_id:$}),Object(N.jsx)("br",{}),0===j&&Object(N.jsx)(se,{project_id:$}),Object(N.jsx)(ze,{variant:"contained",to:"/myproject",children:"Finish"})]})]})]})},Ve=a(48),He=a(23),Ye=a.n(He),Ke=a(50),Qe=(a(5),a(293)),Xe=a(153),Ze=a(142),$e=a.n(Ze),et=a(143),tt=a.n(et),at=a(144),nt=a.n(at),ct=a(145),rt=a.n(ct),st=a(146),it=a.n(st),ot=a(302),lt="http://127.0.0.1:5000",jt=(Object(de.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#ff3d47"}})(X.a),{1:{icon:Object(N.jsx)($e.a,{}),label:"Very Dissatisfied"},2:{icon:Object(N.jsx)(tt.a,{}),label:"Dissatisfied"},3:{icon:Object(N.jsx)(nt.a,{}),label:"Neutral"},4:{icon:Object(N.jsx)(rt.a,{}),label:"Satisfied"},5:{icon:Object(N.jsx)(it.a,{}),label:"Very Satisfied"}});function dt(e){var t=e.value,a=Object(Xe.a)(e,["value"]);return Object(N.jsx)("span",Object(je.a)(Object(je.a)({},a),{},{children:jt[t].icon}))}function ut(e){var t=Object(n.useState)(0),a=Object(k.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!1),i=Object(k.a)(s,2),o=i[0],l=i[1],j=function(){var t=Object(Ke.a)(Ye.a.mark((function t(a){var n;return Ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={comment_id:e.comment_id,user_id:e.user_id,rank:a},t.next=3,fetch("".concat(lt,"/Comm/rank"),{body:JSON.stringify(n),method:"POST",headers:{"Content-Type":"application/json"}});case 3:200===t.sent.status&&(l(!0),console.log(a),localStorage.setItem(e.comment_id,a));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(Ke.a)(Ye.a.mark((function t(){var a,n,c;return Ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(lt,"/proj/project/").concat(e.proj_id,"/").concat(e.user_id),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:if(200!=(a=t.sent).status){t.next=8;break}return t.next=6,a.json();case 6:for(n=t.sent,c=0;c<n.data.rank.length;c++)parseInt(n.data.rank[c].comment_id)===parseInt(e.comment_id)&&(r(parseInt(n.data.rank[c].rank)),l(!0));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[]),Object(N.jsx)("div",{children:Object(N.jsx)(ot.a,{component:"fieldset",mb:3,borderColor:"transparent",children:Object(N.jsx)(X.a,{disabled:o,value:c,getLabelText:function(e){return jt[e].label},IconContainerComponent:dt,onChange:function(e,t){r(t),j(t)}})})})}a(207);var bt=a(90),mt=a.n(bt),ht=Object(j.a)((function(e){return{root:{},icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},title:{flexGrow:1},searchButtonGrid:{display:"flex","align-items":"center"},searchButton:{width:"100%"},content:{flexGrow:1,overflow:"auto"},container:{paddingTop:e.spacing(2)},searchResults:{margin:e.spacing(4)},star:{marginBottom:"-8px",color:"gold"},seperate:{border:"1px solid #ccc"},profile_link:{"&:visited":{color:"blue"}}}}));function pt(e){var t=ht(),a=localStorage.getItem("UserId"),n=e.comment;return console.log(n),n.map((function(n,c){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"seperate"}),Object(N.jsxs)(Y.a,{className:"comment_part",children:[Object(N.jsxs)("div",{className:"firstrow",children:[Object(N.jsx)("div",{className:"first_1",children:Object(N.jsxs)("div",{className:"projectscore",children:[Object(N.jsx)("strong",{children:"Document Rating"}),Object(N.jsx)(mt.a,{className:t.star}),":  ",n.score,"\xa0\xa0",Object(N.jsx)("span",{className:"fontcolor",children:"by"})]})}),Object(N.jsx)("div",{className:"first_2",children:n.time})]}),Object(N.jsxs)("div",{className:"secondrow",children:[Object(N.jsx)("div",{className:"comment_name",children:Object(N.jsxs)(i.b,{to:"/profile/".concat(n.reviewer_id),style:{textDecoration:"none"},className:t.profile_link,children:[n.reviewer_name,":"]})}),Object(N.jsx)("div",{children:Object(N.jsx)(ut,{comment_id:n.comment_id,user_id:a,proj_id:e.proj_id})})]}),Object(N.jsx)("div",{className:"thirdrow",children:n.content})]},c)]})}))}a.p;var Ot=a(72),xt=Object(j.a)((function(e){var t;return{frame:(t={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"80vw",maxWidth:"800px",margin:"0 auto",height:"500px",overflow:"auto",background:"white",border:"1px solid #ccc"},Object(Ve.a)(t,"background","black"),Object(Ve.a)(t,"color","white"),t),div1:{height:"500px"}}}));function gt(e){var t=Object(n.useState)(null),a=Object(k.a)(t,2),c=a[0],r=a[1],s=xt();var i=e.pdf;return Object(N.jsx)("div",{className:s.frame,children:Object(N.jsx)("div",{className:s.div1,children:Object(N.jsx)(Ot.a,{file:i,options:{workerSrc:"/pdf.worker.js"},onLoadSuccess:function(e){var t=e.numPages;r(t)},children:Array.from(new Array(c),(function(e,t){return Object(N.jsx)(Ot.b,{pageNumber:t+1},"page_".concat(t+1))}))})})})}var ft=a(305),vt=a(300),wt=a(147),yt=a.n(wt);Ot.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Ot.c.version,"/pdf.worker.js");var St="http://127.0.0.1:5000",Nt=Object(j.a)((function(e){return{frame:{width:"80vw",maxWidth:"800px",margin:" auto",marginTop:"20px"},button1:{width:"80vw",maxWidth:"800px",margin:" auto",display:"flex",justifyContent:"flex-end",alignItems:"center",paddingRight:"12px"},link:{width:"80vw",maxWidth:"800px",display:"flex",justifyContent:"space-between",alignItems:"center",paddingRight:"12px"},root:{marginTop:"40px"},icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(3,0,6)},heroButtons:{marginTop:e.spacing(4)},title:{flexGrow:1},searchButtonGrid:{display:"flex","align-items":"center"},searchButton:{width:"100%"},content:{flexGrow:1,overflow:"auto"},container:{paddingTop:"10px",backgroundColor:"#ccc",paddingBottom:"10px",paddingLeft:"14px",fontSize:"18px",fontWeight:"bolder"},searchResults:{margin:e.spacing(4)},form:{padding:"15px",background:"white"},star:{marginBottom:"-6px",color:"gold"},buttonPos:{marginRight:"-11px"},frame1:{marginTop:"10px",color:"green"},view1:{display:"none"},view2:{},view3:{visibility:"hidden"},view4:{display:"flex"},dbtn:{height:"22px",color:"red"}}}));function Ct(){var e,t=Object(o.g)(),a=(Object(n.useContext)(A),Object(n.useState)()),r=Object(k.a)(a,2),s=r[0],i=r[1],j=Object(n.useState)(),d=Object(k.a)(j,2),m=d[0],p=d[1],O=c.a.useState(!1),x=Object(k.a)(O,2),g=x[0],f=x[1],v=Object(n.useState)(!1),w=Object(k.a)(v,2),y=w[0],S=w[1],C=Object(n.useState)(),I=Object(k.a)(C,2),_=I[0],P=I[1],D=Object(n.useState)(),B=Object(k.a)(D,2),F=B[0],R=B[1],E=Object(n.useState)(),W=Object(k.a)(E,2),M=(W[0],W[1]),G=Object(n.useState)(),L=Object(k.a)(G,2),z=L[0],q=L[1],J=Object(n.useState)("Comment"),V=Object(k.a)(J,2),H=V[0],K=V[1],Q=Object(o.h)(),Z=new URLSearchParams(Q.search),$=Object(n.useState)(!1),ee=Object(k.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),ce=Object(k.a)(ne,2),re=ce[0],se=ce[1],ie=parseInt(Z.get("projectId")||"1",10);localStorage.getItem("UserId")||(localStorage.setItem("projectID",ie),t.push("/signin"));var oe=Object(n.useState)([]),le=Object(k.a)(oe,2),je=le[0],de=le[1],ue=Object(n.useState)(),be=Object(k.a)(ue,2),me=be[0],he=be[1],pe=function(){var e=Object(Ke.a)(Ye.a.mark((function e(){var t,a;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(St,"/proj/project/").concat(ie,"/").concat(localStorage.getItem("UserId")),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:if(200!=(t=e.sent).status){e.next=8;break}return e.next=6,t.json();case 6:a=e.sent,de(a.data.comments);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(Ke.a)(Ye.a.mark((function e(){var t,a,n,c,r,s;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(St,"/proj/project/file/").concat(ie),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:if(200!=(t=e.sent).status){e.next=10;break}return e.next=6,t.json();case 6:a=e.sent,P(a.filepath),n=a.filepath.split("/"),M(n[6]);case 10:return e.next=12,fetch("".concat(St,"/proj/project/").concat(ie,"/").concat(localStorage.getItem("UserId")),{method:"GET",headers:{"Content-Type":"application/json"}});case 12:if(200!=(c=e.sent).status){e.next=21;break}return e.next=16,c.json();case 16:for(r=e.sent,q(r.data.detail[0].average_score),s=0;s<r.data.comments.length;s++)parseInt(r.data.comments[s].reviewer_id)===parseInt(localStorage.getItem("UserId"))&&(S(!0),f(!0),i("error"),p("Already commented before!"),ye(r.data.comments[s].score),K(r.data.comments[s].content));console.log("KOOOOO",r.data.detail[0].user_id),parseInt(r.data.detail[0].user_id)==parseInt(localStorage.getItem("UserId"))&&(ae(!0),se(!0));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(Ke.a)(Ye.a.mark((function e(){var t,a;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(St,"/proj/project/").concat(ie,"/").concat(localStorage.getItem("UserId")),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:if(200!=(t=e.sent).status){e.next=8;break}return e.next=6,t.json();case 6:a=e.sent,R(a.data.detail[0].title);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(Ke.a)(Ye.a.mark((function e(){var t,a;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(St,"/repo/report/").concat(ie),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:if(200!=(t=e.sent).status){e.next=8;break}return e.next=6,t.json();case 6:a=e.sent,he(a.report_path);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=c.a.useState(0),ve=Object(k.a)(fe,2),we=ve[0],ye=ve[1],Se=Object(n.useState)(),Ne=Object(k.a)(Se,2),Ce=Ne[0],Ie=Ne[1],ke=Nt(),_e=function(){var e=Object(Ke.a)(Ye.a.mark((function e(){var t,a;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={project_id:ie,reviewer_id:localStorage.getItem("UserId"),reviewer_name:localStorage.getItem("UserName"),score:we,content:Ce},e.next=3,fetch("".concat(St,"/Comm/comment"),{body:JSON.stringify(t),method:"POST",headers:{"Content-Type":"application/json"}});case 3:200===(a=e.sent).status&&(S(!0),i("success"),p("success submit!"),f(!0),pe()),401===a.status&&(f(!0),i("error"),p("Already commented before!"));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Oe(),xe(),pe(),ge()}),[]),console.log("asdasf",te),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Te,{}),Object(N.jsxs)("div",{className:ke.frame,children:[Object(N.jsx)(h.a,{variant:"h4",align:"center",children:F}),Object(N.jsxs)(h.a,{className:ke.frame1,lign:"center",children:["Overall score:",Object(N.jsx)(mt.a,{className:ke.star}),"  ",z]}),Object(N.jsx)(gt,{pdf:_}),Object(N.jsxs)("div",{className:ke.link,children:[Object(N.jsxs)("div",{className:re?ke.view4:ke.view3,children:["My Project feedback:",Object(N.jsx)(l.a,(e={className:ke.dbtn,color:"secondary",href:me},Object(Ve.a)(e,"color","transparent"),Object(Ve.a)(e,"target","_blank"),Object(Ve.a)(e,"download",!0),Object(Ve.a)(e,"children","Feedback"),e))]}),Object(N.jsx)("div",{children:Object(N.jsx)("a",{href:_,target:"_blank",dowload:!0,children:"open in new window"})})]}),Object(N.jsx)("br",{}),Object(N.jsx)(Y.a,{className:te?ke.view1:ke.view2,children:Object(N.jsxs)(b.a,{container:!0,className:ke.form,children:[Object(N.jsxs)(b.a,{container:!0,direction:"row",className:ke.frame,children:[Object(N.jsx)(h.a,{children:"Rate this document:\xa0\xa0\xa0"}),Object(N.jsx)(X.a,{disabled:y,name:"simple-controlled",value:we,onChange:function(e,t){ye(t)}})]}),Object(N.jsx)(vt.a,{in:g,children:Object(N.jsx)(ft.a,{severity:s,action:Object(N.jsx)(Qe.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){f(!1)},children:Object(N.jsx)(yt.a,{fontSize:"inherit"})}),children:m})}),Object(N.jsx)(b.a,{container:!0,direction:"column",className:ke.frame,children:Object(N.jsx)(T.a,{disabled:y,multiline:!0,rows:5,fullWidth:!0,label:H,variant:"outlined",color:"secondary",onChange:function(e){Ie(e.target.value)}})}),Object(N.jsx)("div",{style:{marginTop:"15px"}}),Object(N.jsx)("div",{className:ke.button1,children:Object(N.jsx)(l.a,{className:ke.buttonPos,disabled:y,variant:"contained",color:"primary",onClick:_e,children:"Submit"})})]})}),Object(N.jsx)("br",{}),Object(N.jsxs)("div",{className:ke.root,children:[Object(N.jsx)(u.a,{}),Object(N.jsx)(U.a,{disableGutters:!0,className:ke.container,children:"Comments"}),Object(N.jsx)(pt,{proj_id:ie,comment:je})]})]})]})}var It=function(){var e=c.a.useState(!1),t=Object(k.a)(e,2),a=t[0],n=t[1],r=c.a.useState(!1),s=Object(k.a)(r,2),i=s[0],j=s[1],d=c.a.useState(-1),u=Object(k.a)(d,2),m=u[0],p=u[1],O=c.a.useState(""),x=Object(k.a)(O,2),g=x[0],f=x[1],v=c.a.useContext(A);return Object(N.jsxs)(N.Fragment,{children:[a&&Object(N.jsx)(o.a,{to:"/projectreview/projectreview?projectId=".concat(m)}),!a&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Te,{}),Object(N.jsx)("br",{}),Object(N.jsxs)(b.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(N.jsx)(h.a,{varient:"h6",children:"\ud83d\udd10 Please Enter Project's ID and Password to Access It"}),Object(N.jsx)("br",{}),Object(N.jsx)(T.a,{label:"Project ID",variant:"outlined",onChange:function(e){p(e.target.value)},error:i}),Object(N.jsx)("br",{}),Object(N.jsx)(T.a,{label:"Password",variant:"outlined",type:"password",onChange:function(e){f(e.target.value),j(!1)},error:i}),Object(N.jsx)("br",{}),Object(N.jsx)(l.a,{variant:"contained",onClick:function(){var e={project_id:m,password:g};ne.a.post("".concat(v.url,"/proj/project/invite_check"),e,{headers:{"Content-Type":"application/json"}}).then((function(e){if(console.log(e),200!==e.status)throw Error("Bad response.");n(!0),j(!1)})).catch((function(e){j(!0),console.log(e)}))},color:"primary",children:"Confirm"})]})]})]})},kt=a(303),_t=a(301),Tt=Object(j.a)({frame:{width:"80vw",maxWidth:"800px"},pic:{width:"180px",height:"180px",marginRight:"40px"},gary:{color:"#8c8c8c"},card:{width:"575px"}}),Pt=function(){var e=Object(o.i)().userId,t=Tt(),a=c.a.useContext(A),r=window.localStorage.getItem("UserId"),s=Object(n.useState)({}),i=Object(k.a)(s,2),l=i[0],j=i[1],d=Object(n.useState)(0),u=Object(k.a)(d,2),m=u[0],p=u[1];return Object(n.useEffect)((function(){ne.a.get("".concat(a.url,"/prof/").concat(e),{headers:{accept:"application/json"}}).then((function(e){if(console.log(e),200!==e.status)throw Error("Bad response.");j(e.data.profile[0])})).catch((function(e){console.log(e)}))}),[e]),console.log(l),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Te,{}),Object(N.jsx)("br",{}),Object(N.jsx)(b.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(N.jsxs)(b.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",className:t.frame,children:[Object(N.jsx)(b.a,{item:!0,children:Object(N.jsxs)(b.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start",children:[Object(N.jsx)("img",{src:l.image,className:t.pic,alt:"avator"}),Object(N.jsx)("br",{}),e==r&&Object(N.jsxs)(h.a,{variant:"h6",children:["\ud83d\udcb0 Coin(s): ","".concat(l.coin)]})]})}),Object(N.jsx)(b.a,{item:!0,children:Object(N.jsxs)(b.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",children:[Object(N.jsx)(h.a,{variant:"h4",children:"Profile"}),Object(N.jsx)("br",{}),Object(N.jsx)(h.a,{variant:"h6",children:"".concat(l.name)}),Object(N.jsx)(h.a,{variant:"h6",className:t.gary,children:"".concat(l.email)}),Object(N.jsx)("br",{}),Object(N.jsxs)(h.a,{variant:"h6",children:["Major: ",l.major]}),Object(N.jsxs)(h.a,{variant:"h6",children:["Degree: ",l.degree]}),Object(N.jsx)("br",{}),Object(N.jsx)(h.a,{variant:"h6",children:"Activity Statistics:"}),Object(N.jsxs)(Y.a,{className:t.card,variant:"outlined",children:[Object(N.jsxs)(kt.a,{value:m,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){p(t)},variant:"fullWidth",children:[Object(N.jsx)(_t.a,{label:"".concat(l.total_project_number," Project(s)")}),Object(N.jsx)(_t.a,{label:"".concat(l.total_comment_number_from," Comment(s)")})]}),Object(N.jsxs)(Q.a,{children:[0===m&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(h.a,{variant:"h6",children:["Number of Comments Received: ",Object(N.jsxs)("b",{children:[l.total_comment_number_from," "]})]}),Object(N.jsxs)(h.a,{variant:"h6",children:["Average Project Score \u2b50 : ",Object(N.jsx)("b",{children:l.average_project_rank_from})]}),Object(N.jsxs)(h.a,{variant:"h6",children:["Project Fields: ",l.project_fields]})]}),1===m&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(h.a,{variant:"h6",children:["Average Comment Rank \ud83d\ude03 : ",Object(N.jsx)("b",{children:l.average_comment_rank_from})]}),Object(N.jsxs)(h.a,{variant:"h6",children:["Comment Fields: ",l.interest_fields]})]})]})]})]})})]})})]})};var Dt=function(){return Object(N.jsx)(E,{children:Object(N.jsx)(i.a,{children:Object(N.jsxs)(o.d,{children:[Object(N.jsx)(o.b,{path:"/signin",children:Object(N.jsx)(M,{})}),Object(N.jsx)(o.b,{path:"/signup",children:Object(N.jsx)(V,{})}),Object(N.jsx)(o.b,{path:"/Dashboard",children:Object(N.jsx)(Ue,{})}),Object(N.jsx)(o.b,{path:"/myproject",children:Object(N.jsx)(Ee,{})}),Object(N.jsx)(o.b,{path:"/projectupload",children:Object(N.jsx)(Je,{})}),Object(N.jsx)(o.b,{path:"/projectreview",children:Object(N.jsx)(Ct,{})}),Object(N.jsx)(o.b,{path:"/invitecheck",children:Object(N.jsx)(It,{})}),Object(N.jsx)(o.b,{path:"/profile/:userId",children:Object(N.jsx)(Pt,{})}),Object(N.jsx)(o.b,{path:"/",children:Object(N.jsx)(I,{})})]})})})},Bt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,313)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},Ft=a(148);s.a.render(Object(N.jsxs)(c.a.StrictMode,{children:[Object(N.jsx)(Ft.a,{children:Object(N.jsx)("meta",{name:"viewport",content:"minimum-scale=1, initial-scale=1, width=device-width"})}),Object(N.jsx)(Dt,{})]}),document.getElementById("root")),Bt()}},[[237,1,2]]]);
//# sourceMappingURL=main.a105add3.chunk.js.map